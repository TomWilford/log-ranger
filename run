#!/usr/bin/env php
<?php
/*
 * Copyright (c) 2022. Tom Wilford <hello@jollyblueman.com>
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

require __DIR__ . '/vendor/autoload.php';

use Symfony\Component\Console\Application;
use Wilf\Console\Command\DefaultCommand;
use Wilf\Console\Command\GreetCommand;
use Wilf\Console\Command\InputCommand;
use Wilf\Console\Command\OutputCommand;

$defaultCommand = new DefaultCommand(); // hidden command (php run console:default)

$app = new Application();
$app->add($defaultCommand); // php run
$app->setDefaultCommand($defaultCommand->getName()); // overwrites the default command
$app->add(new GreetCommand()); // php run console:greet
$app->add(new InputCommand()); // php run console:input name* lastname languages[] --number --switch --??????
$app->add(new OutputCommand()); // php run console:output

try {
    $app->run();
} catch (Exception $e) {
    echo "Unexpected Error: " . $e->getCode();
}
